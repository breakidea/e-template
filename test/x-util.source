// 代码将嵌入编译结果
extend({escape:function(a,b){return"html"==b?this.encode(a):"url"==b?this.encodeURIComponent(a):"js"==b?this.escapeJs(a):a},escapeJs:function(a){return a=this.init(a).replace(/\\/g,"\\\\").replace(/\r?\n/g,"\\n").replace(/'/g,"\\'").replace(/"/g,'\\"')},trim:function(a){return this.init(a).replace(/^\s*|\s*$/g,"")},init:function(a){return("undefined"==typeof a||null===a)&&(a=""),""+a},cat:function(){var a=[].slice.call(arguments);return a.join("")},encodeURIComponent:function(a){return a=this.init(a),encodeURIComponent?encodeURIComponent(a):escape(a)},encode:function(a){return a=this.init(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\x3E/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},raw:function(a){return a},truncate:function(a,b,c){var d,e=0,f="",g=/[^\x00-\xff]/g,h="",i=this.init(a).replace(g,"**").length;for(d=0;i>d&&(h=a.charAt(d).toString(),null!==h.match(g)?e+=2:e++,!(e>b));d++)f+=h;return c&&i>b&&(f+=c),f}});